var perfily;
(function(b){(function(d){d.store={};d.GetProperty=function(a,c){var f=!1;if(b.data.IsObject(a)){var e=b.data.store[a][c];"undefined"!==typeof e&&(f=e)}return f};d.IsObject=function(a){return"object"!=typeof b.data.store[a]||Array.isArray(b.data.store[a])?!1:!0};d.OutputResult=function(a){var c=a;if(b.data.IsObject(a))if("number"==typeof b.data.store[a].TotalDurationOfTests)c=b.data.GetProperty(a,"TotalDurationOfTests"),c=a+" Suite has a total duration of its tests take: "+c.toFixed(4)+"ms.";else{var f=
b.data.GetProperty(a,"Description"),e=b.data.GetProperty(a,"Iterations"),d="failed";""!==f&&(c+=" ("+f+")");b.data.GetProperty(a,"Passed")&&(d="passed");c+=" "+d;1<e&&(c+=", running "+e.toString()+" iterations,");c+=" and took an average of "+b.data.GetProperty(a,"Duration").toFixed(4)+"ms to complete."}else c+=" is not a Suite or Test.";0==b.data.GetProperty(a,"OutputIntoDocument")?console.log(c):(a=document.createElement("p"),a.textContent=c,document.body.appendChild(a))};d.SetProperty=function(a,
c,f){return b.data.IsObject(a)?(b.data.store[a][c]=f,!0):!1}})(b.data||(b.data={}))})(perfily||(perfily={}));
(function(b){(function(d){d.NewId=function(a){return a+(b.data.store[a].Tests.length+1).toString()};d.New=function(a){if("object"!=typeof a||Array.isArray(a))return"Provided Properties is not an Object.";if("string"!==typeof a.Suite||""==a.Suite)a.Suite="generic";b.suite.New(a.Suite,{});var c=b.test.NewId(a.Suite);"boolean"!==typeof a.AutoclearExpecting&&(a.AutoclearExpecting=b.data.GetProperty(a.Suite,"AutoclearExpecting"));"boolean"!==typeof a.Autorun&&(a.Autorun=b.data.GetProperty(a.Suite,"Autorun"));
"string"!==typeof a.Description&&(a.Description="");"string"!==typeof a.Expecting&&(a.Expecting="");if("number"!==typeof a.Iterations||0>=a.Iterations){var f=b.data.GetProperty(a.Suite,"Iterations");0==f&&(f=1);a.Iterations=f}"boolean"!==typeof a.Output&&(a.Output=b.data.GetProperty(a.Suite,"Output"));"boolean"!==typeof a.OutputIntoDocument?a.OutputIntoDocument=b.data.GetProperty(a.Suite,"OutputIntoDocument"):a.OutputIntoDocument&&(a.Output=!0);b.data.store[c]=a;b.data.GetProperty(a.Suite,"Tests").push(c);
a.Autorun&&b.test.Run(c);return c};d.OutputResult=b.data.OutputResult;d.Export=function(a,c){var f={};if(b.data.IsObject(a))for(var e=0;e<c.length;e++){var d=c[e];f[d]=b.data.GetProperty(a,d)}return f};d.Run=function(a){if(b.data.IsObject(a)){for(var c=b.data.GetProperty(a,"Suite"),f=[],e=b.data.GetProperty(a,"Expecting"),d=b.data.GetProperty(a,"Iterations"),g=!0,k=0;k<d;k++){var l=performance.now(),m=b.data.GetProperty(a,"TestFunction").call(this),n=performance.now();"undefined"!==typeof e&&""!==
e&&(g=e==m);f.push(n-l)}b.data.SetProperty(a,"Passed",g);b.data.GetProperty(a,"AutoclearExpecting")&&b.data.SetProperty(a,"Expecting","");e=f[0];if(1<this.iterations){for(g=d=e=0;g<f.length;g++)0!==f[g]?e+=f[g]:d++;e/=f.length-d}b.data.SetProperty(a,"Duration",e);b.suite.UpdateTotalDuration(c,e);f=b.data.GetProperty(c,"LongestTestLength");d=b.data.GetProperty(c,"ShortestTestLength");e<d||void 0==d?(b.data.SetProperty(c,"ShortestTestLength",e),b.data.SetProperty(c,"ShortestTestObject",b.data.store[a])):
e>f&&(b.data.SetProperty(c,"LongestTestLength",e),b.data.SetProperty(c,"LongestTestObject",b.data.store[a]));b.data.GetProperty(a,"Output")&&b.data.OutputResult(a)}};d.SetDescription=function(a,c){return b.data.SetProperty(a,"Description",c)};d.SetExpecting=function(a,c){return b.data.SetProperty(a,"Expecting",c)};d.SetIterations=function(a,c){return b.data.SetProperty(a,"Iterations",c)};d.SetFunction=function(a,c){b.data.SetProperty(a,"Function",c);1==b.data.GetProperty(a,"Autorun")&&b.test.Run(a)}})(b.test||
(b.test={}))})(perfily||(perfily={}));
(function(b){(function(d){d.New=function(a,c){b.data.IsObject(a)||("boolean"!==typeof c.Output&&(c.Output=!1),"boolean"!==typeof c.OutputIntoDocument&&(c.OutputIntoDocument=!1),c.LongestTestLength=0,c.Tests=[],c.TotalDurationOfTests=0,b.data.store[a]=c)};d.OutputResult=b.data.OutputResult;d.Export=function(a,c){var d=[];if(b.data.IsObject(a))for(var e=0,h=b.data.GetProperty(a,"Tests");e<h.length;e++){var g=b.test.Export(h[e],c);d.push(g)}return d};d.Run=function(a){if(b.data.IsObject(a)){for(var c=0,
d=b.data.GetProperty(a,"Tests");c<d.length;c++)b.test.Run(d[c]);b.data.GetProperty(a,"Output")&&b.data.OutputResult(a)}};d.UpdateTotalDuration=function(a,c){if(b.data.IsObject(a)){var d=b.data.GetProperty(a,"TotalDurationOfTests");b.data.SetProperty(a,"TotalDurationOfTests",d+c);return!0}return!1}})(b.suite||(b.suite={}))})(perfily||(perfily={}));
(function(b){b.NewSuite=b.suite.New;b.NewTest=b.test.New;b.ExportSuite=b.suite.Export;b.ExportTest=b.test.Export;b.RunSuite=b.suite.Run;b.RunTest=b.test.Run;b.GetProperty=b.data.GetProperty;b.OutputResult=b.data.OutputResult;b.SetProperty=b.data.SetProperty})(perfily||(perfily={}));
